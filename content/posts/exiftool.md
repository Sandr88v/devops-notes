---
title: "Exiftool"
date: 2024-04-07T18:32:46+03:00
slug: exiftool
aliases:
  - exiftool
weight: 10010
toc_hide: true
tags:
  - linux
---

## Как пользоваться exiftool

Утилита exiftool - это свободная и бесплатная программа, которая позволяет получить метаданные из различных медиафайов, таких как PDF, видео и изображения. Чаще всего возникает необходимость посмотреть метаданные для фотографий.

## Установка exiftool

Установить exiftool в большинстве дистрибутивов Linux можно из официальных репозиториев. Например, для Ubuntu, Debian или Kali Linux команда будет выглядеть вот так:
```
sudo apt install exiftool
```
## Как пользоваться exiftool

Exiftool - это утилита командной строки. У неё нет графического интерфейса и её придется использовать в терминале.
```
exiftool опции /путь/к/медиафайлу
```
Вот основные опции, которые вы можете использовать:
```
-x - исключить указанные теги данных;
-b - выводить данные в двоичном формате;
-с - установить формат вывода GPS координат;
-d - установить формат для даты и времени;
-h - выводить данные, отформатированные в HTML;
-j - выводить информацию в формате JSON;
-X - выводить информацию в формате XML;
-o - вывести данные в указанный файл;
-P - сохранить атрибуты даты модификации файла;
-s - вывести имена тегов;
-G - вывести имена групп тегов.
-list - вывести список всех доступных тегов;
-listw - вывести список всех тегов, которые можно перезаписывать;
-listg - вывести список всех групп тегов;
-lang - установить язык.
```
Это далеко не все опции, остальные вы можете найти выполнив такую команду:
```
man exiftool
```

## Вывод метаданных

Прочитать метаданные из видео файла
```
exiftool video.mp4
```
Вывести данные на русском, можно использовать опцию -lang:
```
exiftool -lang ru video.mp4
```
Доступные языки можно посмотреть передав эту же опцию не передавая ей имя файла:
```
exiftool -lang
```
Если на камере или сматфоне, на который был сделан снимок или видео была включена функция GPS, то сюда записывается GPS координата, где это было сделано. В данном случае отображаются такие данные:
```
- GPS Alittude - количество метров над уровнем моря;
- GPS Latitude - географическая широта, в градусах, минутах и секундах;
- GPS Longitude - географическая долгота в градусах, минутах и секундах;
```
Скопируйте значение поля GPS Position, где все эти данные собраны вместе, заменить deg на знак градуса и просто ввести в поиск Google карт. На карте будет показано место где было сделано фото или видео. Например: 48° 25' 1.56" N, 24°41' 40.56" E:

Отфильтровать из вывода команды только геоданные:

```
exiftool video.mp4 | grep GPS
```

Вывести в HTML документ и потом открыть их в браузере:

```
exiftool -h video.mp4 > data.html
```

## Группы и теги

Каждая запись метаданных называется тегом. Все доступные теги можно посмотреть на официальном сайте. С помощью опции -s вы можете вывести имена тегов вместо их описаний:
```
exiftool -s video.mp4
```
Все теги разделены на группы. Посмотреть в какой группе находится каждый выводимый тег можно с помощью опции -G:
```
exiftool -G video.mp4
```
Вывести все доступные группы тегов можно с помощью опции -listg:
```
exiftool -listg
```

Вывести все теги группы можно с помощью той же опции -list или -listw только дополнительно надо указать имя группы и приставку :all. Например, для группы Composite:
```
exiftool -list -Composite:all
```
## Изменение метаданных
Чтобы изменить значение тега, надо передать его в виде опции, а после знака равно передать его значение. Например добавим параметр GPSSpeed:
```
exiftool -GPSSpeed=2 video.mp4
```
По умолчанию новые метаданные записываются в новый файл с таким же именем, а старая версия сохраняется в файле с приставкой _original. Чтобы этот файл не создавался надо использовать опцию -overwrite_original:
```
exiftool -overwrite_original -GPSSpeed=2 video.mp4
```
## Удаление метаданных

Для того чтобы затереть значение параметра надо передать ему пустое значение.

```
exiftool -GPSSpeed= video.mp4
```
Для того чтобы удалить вообще все метаданные используйте модификатор all и присвойте ему пустое значение:
```
exiftool -all= video.mp4
```

Теперь здесь больше нет никаких геоданных, остались только стандартные значения тегов, взятые из медиа файла, без которых обойтись нельзя. Если вы хотите удалить метаданные из всех файлов в папке просто используйте символ звездочки. Например, для всех mp4 файлов:
```
exiftool -all= *.mp4
```
